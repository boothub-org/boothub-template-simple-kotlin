<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.3">
<meta name="author" content="Serban Iordache">
<title>The Simple-Kotlin BootHub Template</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<link rel="stylesheet" href="./asciidoctor.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">
<link rel="stylesheet" href="./coderay-asciidoctor.css">
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>The Simple-Kotlin BootHub Template</h1>
<div class="details">
<span id="author" class="author">Serban Iordache</span><br>
<span id="revnumber">version 1.0.0</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#introduction">Introduction</a></li>
<li><a href="#getting_started">Getting Started</a></li>
<li><a href="#user_guide">User Guide</a>
<ul class="sectlevel2">
<li><a href="#idea">IntelliJ Idea</a></li>
<li><a href="#eclipse">Eclipse</a></li>
<li><a href="#versioning">Versioning</a></li>
<li><a href="#_license_header_check">License header check</a></li>
<li><a href="#_publishing_to_jcenter_and_maven_central">Publishing to JCenter and Maven Central</a>
<ul class="sectlevel3">
<li><a href="#_credentials">Credentials</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#dev_guide">Developer Guide</a></li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="introduction">Introduction</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The source code is available on <a href="https://github.com/boothub-org/boothub-template-simple-kotlin">GitHub</a> and is licensed under the <a href="https://github.com/boothub-org/boothub-template-simple-kotlin/blob/v1.0.0/LICENSE">Apache-2.0 license</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The Simple-Kotlin template allows you to create a Kotlin project with a main class and a test class.</p>
</div>
<div class="paragraph">
<p>It provides a <code>build.gradle.kts</code> file that adds support for:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>versioning</p>
</li>
<li>
<p>checking license headers</p>
</li>
<li>
<p>testing with <a href="https://junit.org/junit4">JUnit 4</a>,
<a href="https://junit.org/junit5">JUnit 5</a>,
<a href="https://github.com/kotlintest/kotlintest">kotlin.test</a>
or <a href="http://spekframework.org">Spek</a></p>
</li>
<li>
<p>jar signing</p>
</li>
<li>
<p>publishing to JCenter and Maven Central</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="getting_started">Getting Started</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can generate a project skeleton based on the Simple-Kotlin template by using the
<a href="https://boothub.org/app#/home/true/https%3A%2F%2Fgithub.com%2Fboothub-org%2Fboothub-template-simple-kotlin%2Freleases%2Fdownload%2Fv1.0.0%2Fsimple-kotlin-1.0.0.zip" class="external" target="_blank">BootHub GUI</a>
or the
<a href="https://boothub.org/app#/cli" class="external" target="_blank">BootHub CLI</a>.</p>
</div>
<div class="paragraph">
<p>After providing the <a href="http://doc.boothub.org/releases/latest/#template-independent-data">template-independent data</a>, you need to configure the
<a href="https://maven.apache.org/guides/mini/guide-naming-conventions.html">Maven groupId</a> of your project:</p>
</div>
<div class="black-background">
<pre class="lime" style="margin-left: 20px;">

Maven groupId: <span class="yellow">org.myproject</span>

</pre>
</div>
<pre>

</pre>
<div class="paragraph">
<p>Then you need to configure the artifact ID, the base package and the name of the main class of your application:</p>
</div>
<div class="black-background">
<pre class="lime" style="margin-left: 20px;">

Artifact ID [my-project]: ​
Base package [org.myproject]: ​
Application main class name [MyProjectMain]: <span class="yellow">​MyApp</span>

</pre>
</div>
<pre>

</pre>
<div class="paragraph">
<p>The next step is to provide information about the project developers:</p>
</div>
<div class="black-background">
<pre class="lime" style="margin-left: 20px;">

Developers
Developer ID [jsmith]:
Developer name [John Smith]:
Developer email (optional):
More developers? (Y/N) [N]:

</pre>
</div>
<div class="paragraph">
<p>Then you specify whether the generated Gradle script should include additional tasks such as
checking the presence of license headers or uploading artifacts to Bintray.</p>
</div>
<div class="black-background">
<pre class="lime" style="margin-left: 20px;">

Check license header? (Y/N) [Y]: ​
Add support for uploading to Bintray? (Y/N) [Y]: ​

</pre>
</div>
<div class="paragraph">
<p>Finally, you choose your preferred test framework:</p>
</div>
<div class="black-background">
<pre class="lime" style="margin-left: 20px;">

Test Framework:
  1: JUnit 4
  2: JUnit 5
* 3: kotlin.test
  4: Spek
Enter your choice: ​<span class="yellow">​4</span>

</pre>
</div>
</div>
</div>
<div class="sect1">
<h2 id="user_guide">User Guide</h2>
<div class="sectionbody">
<div class="paragraph">
<p>After generating the project skeleton and creating a working copy on your computer, you can build the project with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>gradlew build</pre>
</div>
</div>
<div class="paragraph">
<p>You can also build an uncompressed distribution by executing:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>gradlew installDist</pre>
</div>
</div>
<div class="paragraph">
<p>Let us consider that your project is called <code>my-project</code> and your main application class is named <code>MyApp</code>.
Then, running the start script found in the <code>build/install/myProject/bin</code> directory, the following text should appear on your terminal:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Hello from MyApp!</pre>
</div>
</div>
<div class="sect2">
<h3 id="idea">IntelliJ Idea</h3>
<div class="ulist">
<ul>
<li>
<p>start the IntelliJ Idea IDE</p>
</li>
<li>
<p>open <em>build.gradle.kts</em></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="eclipse">Eclipse</h3>
<div class="ulist">
<ul>
<li>
<p>start the Eclipse IDE</p>
</li>
<li>
<p>install a recent version of <a href="https://projects.eclipse.org/projects/tools.buildship">Buildship</a></p>
</li>
<li>
<p>import the project using the Gradle Project wizard</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="versioning">Versioning</h3>
<div class="paragraph">
<p>The file <code>gradle.properties</code> contains variables that are used to create a version string conforming to the <a href="https://semver.org">semantic versioning</a> standard.
The names of these variables are prefixed by the camelCase representation of the project name, for example:
<code>myProjectVersionMajor</code>, <code>myProjectVersionMinor</code>, <code>myProjectVersionPatch</code>.</p>
</div>
<div class="paragraph">
<p>Additionally, a boolean variable (named for example <code>myProjectReleaseBuild</code>) is used to specify whether the current build represents a release or a snapshot.</p>
</div>
<div class="paragraph">
<p>By editing the values of these variables you can change the version of your project.</p>
</div>
<div class="paragraph">
<p>For example, to bump your project version to <code>1.2.3-SNAPSHOT</code>, your <code>gradle.properties</code> should contain:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>myProjectVersionMajor = 1
myProjectVersionMinor = 2
myProjectVersionPatch = 3
myProjectReleaseBuild = false</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_license_header_check">License header check</h3>
<div class="paragraph">
<p>The Gradle build script uses the <a href="https://github.com/hierynomus/license-gradle-plugin">license-gradle-plugin</a>
to check if your source files include the header provided in the <code>license-header.txt</code> file.</p>
</div>
</div>
<div class="sect2">
<h3 id="_publishing_to_jcenter_and_maven_central">Publishing to JCenter and Maven Central</h3>
<div class="paragraph">
<p>The Gradle task <code>bintrayUpload</code> lets you publish your artifacts to <a href="https://bintray.com/">Bintray</a>.
You can then <a href="https://bintray.com/docs/usermanual/uploads/uploads_centralrepositories.html#_including_your_package_in_jcenter">include your packages in JCenter</a>
and <a href="https://bintray.com/docs/usermanual/uploads/uploads_syncingwiththirdpartyplatforms.html#_syncing_artifacts_with_maven_central">synchronize them with Maven Central</a>.</p>
</div>
<div class="paragraph">
<p>Before being able to execute the <code>bintrayUpload</code> task, you need to configure your credentials.</p>
</div>
<div class="sect3">
<h4 id="_credentials">Credentials</h4>
<div class="paragraph">
<p>Your Gradle build script uses the <a href="https://github.com/stevesaliman/gradle-properties-plugin">gradle-properties-plugin</a>,
which allows you to configure additional project properties in the <code>gradle-local.properties</code> file.</p>
</div>
<div class="paragraph">
<p>This is the file in which you should configure your credentials.
Since <code>gradle-local.properties</code> is already listed in your project&#8217;s <code>.gitignore</code> file, your credentials will not be committed to git.</p>
</div>
<div class="paragraph">
<p>To create this file you can simply copy the provided template file <code>gradle-local-template.properties</code> to <code>gradle-local.properties</code>.
The content of this file is shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>signingKeyId = A0B1C2D3
signingSecretKeyRingFile = /users/jsmith/gpg/jsmith.gpg

bintrayUser = jsmith
bintrayKey = a0b1c2d3e4f5a0b1c2d3e4f5a0b1c2d3e4f5a0b1</pre>
</div>
</div>
<div class="paragraph">
<p>You need to configure the appropriate values for the above properties, which are used for signing your artifacts and for granting you access to Bintray.</p>
</div>
<div class="paragraph">
<p>The signing credentials consist of:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the public key ID (an 8 character hexadecimal string)</p>
</li>
<li>
<p>the absolute path to the secret key ring file containing your private key</p>
</li>
<li>
<p>the passphrase used to protect your private key</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The passphrase of your private key is a very sesnsitive information, therefore it is not stored in the <code>gradle-local.properties</code>.
Instead, Gradle will ask you to enter it each time you execute the <code>bintrayUpload</code> task.</p>
</div>
<div class="paragraph">
<p>See the <a href="https://www.gnupg.org/documentation/howtos.html">GnuPG documentation</a> and the
<a href="https://docs.gradle.org/current/userguide/signing_plugin.html">Gradle signing plugin</a> for details on how to create and configure your signatures.</p>
</div>
<div class="paragraph">
<p>The Bintray credentials consist of your Bintray user name and your
<a href="https://bintray.com/docs/usermanual/interacting/interacting_interacting.html#anchorAPIKEY">Bintray API Key</a>.
See the documentation of the <a href="https://github.com/bintray/gradle-bintray-plugin">gradle-bintray-plugin</a> for more details.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="dev_guide">Developer Guide</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section is for developers who want to fix bugs or change the functionality of the Simple-Kotlin template.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Read about <a href="http://doc.boothub.org/releases/latest/#Templates">writing BootHub templates</a> before starting to change the Simple-Kotlin template.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The Simple-Kotlin template comes with a suite of tests that generate various skeletons and check their validity.
You should update these tests and add new ones according to the changes you make.</p>
</div>
<div class="paragraph">
<p><strong>Command Line Build</strong></p>
</div>
<div class="paragraph">
<p>The Simple-Kotlin template is built with <a href="http://www.gradle.org">Gradle</a> and requires JDK 8 or higher.
Clone the GitHub repository, <code>cd</code> into the top directory and start the build:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>git clone https://github.com/boothub-org/boothub-template-simple-kotlin.git
cd boothub-template-simple-kotlin
./gradlew clean build            (On Windows: gradlew clean build)</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>IntelliJ Idea</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>start the IntelliJ Idea IDE</p>
</li>
<li>
<p>open <em>build.gradle.kts</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Eclipse</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>start the Eclipse IDE</p>
</li>
<li>
<p>install a recent version of <a href="https://projects.eclipse.org/projects/tools.buildship">Buildship</a></p>
</li>
<li>
<p>import the project using the Gradle Project wizard</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 1.0.0<br>
</div>
</div>
</body>
</html>